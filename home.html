<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home Page</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lobster+Two:ital,wght@0,400;0,700;1,400;1,700&display=swap"
    rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=Lobster+Two:ital,wght@0,400;0,700;1,400;1,700&family=Poiret+One&display=swap"
    rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=Lobster+Two:ital,wght@0,400;0,700;1,400;1,700&family=Poiret+One&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
    rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=BBH+Sans+Bogle&family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Outfit:wght@100..900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="styles/home.css">
  <link
    href="https://fonts.googleapis.com/css2?family=BBH+Sans+Bogle&family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Outfit:wght@100..900&display=swap"
    rel="stylesheet">
</head>

<style>

</style>

<body>
  <!-- -------------------------------[NAV-BAR]----------------------------------- -->
  <div class="navbar">
    <div class="logo-container">
      Candy
    </div>
    <div class="navigation">
      <ul>
        <li onclick="showSection('dashboard')">Dashboard</li>
        <li onclick="showSection('inbox')">Inbox</li>
        <li onclick="showSection('calendar')">Calendar & Tasks</li>
      </ul>
      <ul>
        <li onclick="showSection('jobs')">Jobs</li>
        <li onclick="showSection('candidates')">Candidates</li>
        <li onclick="showSection('career')">Career Sites</li>
      </ul>
      <ul>
        <li onclick="showSection('settings')">Settings</li>
        <li onclick="showSection('help')">Need Help?</li>
      </ul>
    </div>
  </div>
  <!-- ---------------------------------------------------------------------------- -->

  <!-- ---------------------------[MAIN-BODY]------------------------------------ -->
  <div class="main-body">
    <div class="main-section">

      <div class="section active" id="dashboard">
        <p id="current-date" style=" font-size: 1.2rem;"> Today is </p>
        <div class="dashboard-sec-1">
          <div class="hiring">

          </div>
          <div class="application">
            <div class="total-application">30</div>
            <div class="profile-1">15</div>
            <div class="profile-2">15</div>
          </div>
        </div>
        <h2>My Candidates</h2>
      </div>
      <!-- ---------------------------------------------------------------------------- -->
      <!-- ---------------------------[INBOX]------------------------------------------ -->
      <div class="section" id="inbox">
        <h2 class="heading">Inbox</h2>
        <p>Check your latest messages and notifications here.</p>
      </div>
      <!-- --------------------------------------------------------------------------- -->

      <!-- ---------------------------[CALENDAR & TASKS]------------------------------ -->

      <div class="section" id="calendar">
        <h2 class="heading">Calendar & Tasks</h2>
        <p>Manage your schedule and upcoming tasks in this section.</p>
        <div class="container">
          <!-- 📅 CALENDAR DIV -->
          <div class="calendar-container">
            <div class="calendar-header">October 2025</div>
            <div class="calendar-days" id="calendarDays"></div>
          </div>

          <!-- 📝 TASK LIST DIV -->
          <div class="task-list">
            <h2>Your Tasks</h2>
            <div id="taskListContainer"></div>
          </div>
        </div>

        <!-- 🧾 TASK MODAL DIV -->
        <div id="taskModal">
          <div class="modal-content">
            <h3 id="modalDate"></h3>
            <textarea id="taskInput" placeholder="Enter your tasks here..."></textarea>
            <div class="buttons">
              <button class="save">Save</button>
              <button class="delete">Delete</button>
              <button class="close">Close</button>
            </div>
          </div>
        </div>
      </div>
      <!-- --------------------------------------------------------------------------- -->

      <!-- ---------------------------[JOBS & CANDIDATES]------------------------------ -->
      <div class="section" id="jobs">
        <h2 class="heading">Jobs</h2>
        <p>View and manage job listings or add new opportunities.</p>
      </div>
      <!-- --------------------------------------------------------------------------- -->

      <!-- ---------------------------[ CANDIDATES]------------------------------ -->
      <div class="section" id="candidates">
        <h2 class="heading">Candidates
          <button class="add-btn" id="openModalBtn">+</button>
        </h2>
        <p>Browse, track, and review candidate profiles here.</p>

        <table id="candidateTable">
          <thead>
            <tr>
              <th>CANDIDATE NAME</th>
              <th>JOB TITLE</th>
              <th>PHONE</th>
              <th>EMAIL</th>
              <th>DETAILS</th>
              <th>RESUME</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>

        <!-- ===== Add New Candidate Modal ===== -->
        <div class="modal" id="candidateModal">
          <div class="modal-content">
            <button class="close-btn" id="closeModalBtn">&times;</button>
            <h2>Add New Candidate</h2>
            <form id="candidateForm" enctype="multipart/form-data">
              <input type="text" id="name" placeholder="Candidate Name" required>
              <input type="text" id="job" placeholder="Job Title" required>
              <input type="tel" id="phone" placeholder="Phone Number" pattern="[0-9]{10}" required>
              <input type="email" id="email" placeholder="Email ID" required>
              <label>Upload Resume:</label>
              <input type="file" id="resume" accept=".pdf,.doc,.docx" required>
              <button type="submit" class="save-btn">Save Candidate</button>
            </form>
          </div>
        </div>

        <!-- ===== Add More Details / Edit Modal ===== -->
        <div class="modal" id="detailModal">
          <div class="modal-content" style="max-width: 800px;">
            <button class="close-btn" id="closeDetailBtn">&times;</button>
            <h2 id="detailModalTitle">Add More Details</h2>
            <form id="detailForm">
              <input type="text" id="editName" placeholder="Candidate Name" required>
              <input type="text" id="editJob" placeholder="Job Title" required>
              <input type="tel" id="editPhone" placeholder="Phone Number" pattern="[0-9]{10}" required>
              <input type="email" id="editEmail" placeholder="Email ID" required>
              <textarea id="editSkills" placeholder="Skills / Summary / Notes"></textarea>
              <button type="submit" class="save-btn">Save Details</button>
            </form>
          </div>
        </div>
      </div>
      <!-- --------------------------------------------------------------------------- -->
    </div>

    <!-- ---------------------------[CAREER SITES]------------------------------------->
    <div class="section" id="career">
      <h2 class="heading">Career Sites</h2>
      <p>Customize and manage your company’s career site pages.</p>
    </div>
    <!-- --------------------------------------------------------------------------- -->

    <!-- ----------------------------[SETTINGS ] -------------------------------------->
    <div class="section" id="settings">
      <h2 class="heading">Settings</h2>
      <p>Adjust your preferences, permissions, and integrations here.</p>
    </div>
    <!--------------------------------------------------------------------------------->

    <!------------------------------[HELP]--------------------------------------------->
    <div class="section" id="help">
      <h2 class="heading">Need Help?</h2>
      <p>Access support, documentation, or contact our help team.</p>
    </div>
    <!-- ------------------------------------------------------------------------------->
  </div>
  </div>

  <!------------------------------------ [TABLE SCRIPT] ------------------------------------->
  <script>
    const openModalBtn = document.getElementById('openModalBtn');
    const closeModalBtn = document.getElementById('closeModalBtn');
    const modal = document.getElementById('candidateModal');
    const form = document.getElementById('candidateForm');
    const tableBody = document.querySelector('#candidateTable tbody');
    const detailModal = document.getElementById('detailModal');
    const closeDetailBtn = document.getElementById('closeDetailBtn');
    const detailForm = document.getElementById('detailForm');
    const detailModalTitle = document.getElementById('detailModalTitle');

    let candidates = [];

    // Open & close modals
    openModalBtn.addEventListener('click', () => modal.style.display = 'flex');
    closeModalBtn.addEventListener('click', () => modal.style.display = 'none');
    closeDetailBtn.addEventListener('click', () => detailModal.style.display = 'none');
    window.addEventListener('click', (e) => {
      if (e.target === modal) modal.style.display = 'none';
      if (e.target === detailModal) detailModal.style.display = 'none';
    });

    // Add new candidate
    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const name = document.getElementById('name').value.trim();
      const job = document.getElementById('job').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const email = document.getElementById('email').value.trim();
      const resume = document.getElementById('resume').files[0];

      if (!name || !job || !phone || !email || !resume) return alert("Please fill all fields.");

      const reader = new FileReader();
      reader.onload = function (event) {
        const candidate = {
          id: Date.now(),
          name,
          job,
          phone,
          email,
          resumeName: resume.name,
          resumeData: event.target.result,
          skills: "",
          hasDetails: false
        };

        candidates.push(candidate);
        addCandidateRow(candidate);
        form.reset();
        modal.style.display = 'none';
      };
      reader.readAsDataURL(resume);
    });

    // Add candidate to table
    function addCandidateRow(candidate) {
      const row = document.createElement('tr');
      row.innerHTML = `
      <td>${candidate.name}</td>
      <td>${candidate.job}</td>
      <td>${candidate.phone}</td>
      <td>${candidate.email}</td>
      <td>
        <button class="view-btn" onclick="openDetailModal(${candidate.id})">
          ${candidate.hasDetails ? "View/Edit" : "Add Details"}
        </button>
      </td>
      <td>
        <button class="resume-btn" onclick="viewResume(${candidate.id})">View Resume</button>
      </td>
    `;
      tableBody.appendChild(row);
    }

    // Open Add/View/Edit details modal
    window.openDetailModal = (id) => {
      const candidate = candidates.find(c => c.id === id);
      if (!candidate) return;

      document.getElementById('editName').value = candidate.name;
      document.getElementById('editJob').value = candidate.job;
      document.getElementById('editPhone').value = candidate.phone;
      document.getElementById('editEmail').value = candidate.email;
      document.getElementById('editSkills').value = candidate.skills || "";

      detailModalTitle.textContent = candidate.hasDetails ? "View / Edit Details" : "Add More Details";

      detailForm.onsubmit = (e) => {
        e.preventDefault();

        candidate.name = document.getElementById('editName').value.trim();
        candidate.job = document.getElementById('editJob').value.trim();
        candidate.phone = document.getElementById('editPhone').value.trim();
        candidate.email = document.getElementById('editEmail').value.trim();
        candidate.skills = document.getElementById('editSkills').value.trim();
        candidate.hasDetails = true;

        refreshTable();
        detailModal.style.display = 'none';
      };

      detailModal.style.display = 'flex';
    };

    // View Resume
    window.viewResume = (id) => {
      const candidate = candidates.find(c => c.id === id);
      if (!candidate || !candidate.resumeData) return alert("No resume uploaded.");
      const win = window.open();
      win.document.write(`<iframe src="${candidate.resumeData}" width="100%" height="100%"></iframe>`);
    };

    // Refresh table after edits
    function refreshTable() {
      tableBody.innerHTML = "";
      candidates.forEach(addCandidateRow);
    }
  </script>

  <!----------[SECTION CHANGE]------------------------------------------------->
  <script>
    function showSection(id) {
      document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
      });
      document.getElementById(id).classList.add('active');
    }
  </script>
  <!------------------------------------------------------------------------------------------->


  <!------------------------------------ [CURRENT DATE SCRIPT] ------------------------------------->
  <script>
    const today = new Date();

    // Weekday names
    const days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
    const dayName = days[today.getDay()];

    // Month names
    const months = ["January", "February", "March", "April", "May", "June",
      "July", "August", "September", "October", "November", "December"];
    const monthName = months[today.getMonth()];

    // Day with ordinal suffix
    const dayNum = today.getDate();
    let suffix = "th";
    if (dayNum % 10 === 1 && dayNum !== 11) suffix = "st";
    else if (dayNum % 10 === 2 && dayNum !== 12) suffix = "nd";
    else if (dayNum % 10 === 3 && dayNum !== 13) suffix = "rd";

    // Full date string
    const fullDate = `Today is ${dayName}, ${dayNum}${suffix} ${monthName}, ${today.getFullYear()}`;

    // Display in HTML
    document.getElementById("current-date").textContent = fullDate;
  </script>
  <!------------------------------------------------------------------------------------------->

  <!------------------------------------ [CALENDER SCRIPT] ------------------------------------->
  <script>
    const calendarDays = document.getElementById('calendarDays');
    const taskListContainer = document.getElementById('taskListContainer');
    const taskModal = document.getElementById('taskModal');
    const modalDate = document.getElementById('modalDate');
    const taskInput = document.getElementById('taskInput');
    const saveBtn = document.querySelector('.save');
    const deleteBtn = document.querySelector('.delete');
    const closeBtn = document.querySelector('.close');

    const monthDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    const year = 2025, month = 9; // October = 9
    const daysInMonth = new Date(year, month + 1, 0).getDate();
    const firstDay = new Date(year, month, 1).getDay();

    let selectedDate = '';

    // Load calendar
    function loadCalendar() {
      calendarDays.innerHTML = '';
      monthDays.forEach(d => {
        const dayName = document.createElement('div');
        dayName.classList.add('day-name');
        dayName.textContent = d;
        calendarDays.appendChild(dayName);
      });

      for (let i = 0; i < firstDay; i++) {
        const empty = document.createElement('div');
        calendarDays.appendChild(empty);
      }

      for (let i = 1; i <= daysInMonth; i++) {
        const day = document.createElement('div');
        day.classList.add('day');
        day.textContent = i;
        const dateKey = `${year}-${month + 1}-${i}`;
        if (localStorage.getItem(dateKey)) day.classList.add('has-task');
        day.addEventListener('click', () => openModal(dateKey));
        calendarDays.appendChild(day);
      }

      loadTaskList();
    }

    // Open modal
    function openModal(date) {
      selectedDate = date;
      modalDate.textContent = `Tasks for ${date}`;
      taskInput.value = localStorage.getItem(date) || '';
      taskModal.style.display = 'flex';
    }

    // Save task
    saveBtn.addEventListener('click', () => {
      if (taskInput.value.trim() === '') return;
      localStorage.setItem(selectedDate, taskInput.value.trim());
      taskModal.style.display = 'none';
      loadCalendar();
    });

    // Delete task
    deleteBtn.addEventListener('click', () => {
      localStorage.removeItem(selectedDate);
      taskModal.style.display = 'none';
      loadCalendar();
    });

    closeBtn.addEventListener('click', () => taskModal.style.display = 'none');

    window.addEventListener('click', e => {
      if (e.target === taskModal) taskModal.style.display = 'none';
    });

    // Load all tasks in the list
    function loadTaskList() {
      taskListContainer.innerHTML = '';
      const keys = Object.keys(localStorage).filter(k => k.startsWith(`${year}-${month + 1}-`));
      if (keys.length === 0) {
        taskListContainer.innerHTML = '<p style="color:#888;text-align:center;">No tasks yet.</p>';
        return;
      }

      keys.sort((a, b) => {
        const dayA = parseInt(a.split('-')[2]);
        const dayB = parseInt(b.split('-')[2]);
        return dayA - dayB;
      });

      keys.forEach(dateKey => {
        const div = document.createElement('div');
        div.classList.add('task-item');
        div.innerHTML = `<strong>${dateKey}</strong><br>${localStorage.getItem(dateKey)}`;
        taskListContainer.appendChild(div);
      });
    }

    loadCalendar();
  </script>
</body>
<script src="candy.js"></script>

</html>